<!--
  Generated template for the RegisterPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar color="primary">
    <ion-title>Register</ion-title>
  </ion-navbar>

</ion-header>


<ion-content padding>
  <div class="registerWrapper">
    <ion-list>
      <form [formGroup]="registerForm" (ngSubmit)="doRegister()">

        <ion-item-divider>
          <ion-icon item-start name="person"></ion-icon>
          {{ "User info" }}
        </ion-item-divider>

        <ion-item *ngIf="!registerForm.controls.name.valid  && submitAttempt">
          <p small class="errorMsg">Name is not valid!</p>
        </ion-item>
        <ion-item>
          <ion-input placeholder="Name" [(ngModel)]="user.name" name="name" formControlName="name" type="text"></ion-input>
        </ion-item>

        <ion-item *ngIf="!registerForm.controls.surname.valid  && submitAttempt">
          <p small class="errorMsg">Surname is not valid!</p>
        </ion-item>
        <ion-item>
          <ion-input placeholder="Surname" [(ngModel)]="user.surname" name="surname" formControlName="surname" type="text"></ion-input>
        </ion-item>

        <ion-item-divider>
          <ion-icon item-start name="mail"></ion-icon>
          {{ "Contact info" }}
        </ion-item-divider>

        <ion-item *ngIf="!registerForm.controls.email.valid  && submitAttempt">
          <p small class="errorMsg">Email is not valid!</p>
        </ion-item>
        <ion-item>
          <ion-input placeholder="Email" [(ngModel)]="user.email" formControlName="email" type="text"></ion-input>
        </ion-item>

        <ion-item *ngIf="!registerForm.controls.phoneNumber.valid  && submitAttempt">
          <p small class="errorMsg">Phone number is not valid!</p>
        </ion-item>
        <ion-item>
          <ion-input placeholder="Phone" [(ngModel)]="user.phoneNumber" formControlName="phoneNumber" type="number"></ion-input>
        </ion-item>

        <ion-item-divider>
          <ion-icon item-start name="lock"></ion-icon>
          {{ "Password" }}
        </ion-item-divider>

        <ion-item *ngIf="!registerForm.controls.password.valid  && submitAttempt">
          <p small class="errorMsg">Password is not valid!</p>
        </ion-item>
        <ion-item>
          <ion-input placeholder="Password" [(ngModel)]="user.password" formControlName="password" type="password"></ion-input>
        </ion-item>

        <ion-item>
          <ion-input placeholder="Confirm password" type="password"></ion-input>
        </ion-item>

        <ion-item-divider>
          <ion-icon item-start name="paper"></ion-icon>
          {{ "University info" }}
        </ion-item-divider>


        <ion-item>
            <ion-label item-start>Department</ion-label>
            <ion-input formControlName="department" [(ngModel)]="user.department">
              </ion-input>
        </ion-item>

        <ion-item >
          <ion-label item-start>Year</ion-label>
          <ion-input formControlName="year" [(ngModel)]="user.year" type="number">
          </ion-input>
        </ion-item>


        <ion-item *ngIf="!registerForm.controls.group.valid  && submitAttempt">
          <p small class="errorMsg">Group is not valid!</p>
        </ion-item>
        <ion-item>
          <ion-label>Group</ion-label>
          <ion-input [(ngModel)]="user.group" formControlName="group" type="number"></ion-input>
        </ion-item>

        <ion-item *ngIf="!registerForm.controls.subgroup.valid  && submitAttempt">
          <p small class="errorMsg">Subgroup is not valid!</p>
        </ion-item>
        <ion-item>
          <ion-label>Subgroup</ion-label>
          <ion-input [(ngModel)]="user.subgroup" formControlName="subgroup" type="number"></ion-input>
        </ion-item>

        <button ion-button color="button" block type="submit" class="submitBtn">Register</button>
      </form>

    </ion-list>

  </div>
</ion-content>